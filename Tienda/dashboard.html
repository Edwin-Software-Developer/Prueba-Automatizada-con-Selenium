<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>ECommerce - Marketplace y Gestión</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body onload="checkAuth()">
    <div class="container">
        <header>
            <h1>Bienvenido a todo carros</h1>
            <div>
                <button id="logoutButton" class="btn-secondary hidden">Cerrar Sesión</button>
            </div>
        </header>
        
        <div id="adminPanel" class="hidden"> 
            <hr>
            <h2>Panel de Administración</h2>
            <section id="adminFormSection" class="card p-20">
                <h3>Agregar/Editar Producto</h3>
                <form id="productForm">
                    <input type="text" id="productId" hidden>
                    
                    <label for="productName">Nombre (3-50 chars):</label>
                    <input type="text" id="productName" placeholder="Nombre" maxlength="50" required>

                    <label for="productDescription">Descripción (5-150 chars):</label>
                    <textarea id="productDescription" placeholder="Descripción breve del producto" maxlength="150" required></textarea>

                    <label for="productImageUrl">URL de Imagen:</label>
                    <input type="url" id="productImageUrl" placeholder="https://ejemplo.com/imagen.jpg" required>

                    <label for="productPrice">Precio:</label>
                    <input type="number" id="productPrice" placeholder="Precio" min="0.01" step="0.01" required>
                    
                    <label for="productStock">Stock (0-1000):</label>
                    <input type="number" id="productStock" placeholder="Stock" min="0" max="1000" required>
                    
                    <button type="submit" id="saveButton" class="btn-primary">Crear Producto</button>
                </form>

                <p id="formMessage" class="message"></p>
            </section>

            <hr>

            <section id="adminView" class="card p-20">
                <h3>Inventario para CRUD</h3>
                <table id="adminTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nombre</th>
                            <th>Precio</th>
                            <th>Stock</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="adminTableBody">
                    </tbody>
                </table>
            </section>
        </div>
        
        <hr>

        <section id="marketplaceView">
            <h2>Productos Disponibles</h2>
            <div id="productCardsContainer" class="card-grid">
            </div>
        </section>

    </div>
    <script src="scripts.js"></script>
</body>
</html>